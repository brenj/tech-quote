{% extends "layout.html" %}

{% block content %}
  <script type="text/javascript">
    $(document).ready(function() {
      $('#quoteText').focus();
    });
  </script>
  <div class="container">
    <div class="page-header text-center">
      {% if form_action == 'add' %}
        <h1 class="form-header"><i class="fa fa-plus-square-o fa-lg"></i> Add a quote for the internets to see</h1>
      {% else %}
        <h1 class="form-header"><i class="fa fa-pencil-square-o fa-lg"></i> Edit that quote to ** perfection ** !</h1>
      {% endif %} 
      <h1 class="form-header-small"><small>... and don't worry about the quotation marks -- not necessary</small></h1>
    </div>
    <div class="col-xs-12" style="height:25px;"></div>
    <form method="POST" action="{{ request.url }}">
      {{ form.hidden_tag() }}
      <div class="row">
        <div class="col-md-5 col-md-offset-3">
          <div class="form-group">
            {{ form.quote_text.label }}
            {{ form.quote_text(id="quoteText", class="form-control focus", rows="5", placeholder="Special cases aren't special enough to break the rules.") }}
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-5 col-md-offset-3">
          <div class="form-group">
            {{ form.quote_source.label }}
            {{ form.quote_source(class="form-control", placeholder="https://www.python.org/dev/peps/pep-0020/") }}
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-5 col-md-offset-3">
          <div class="form-group">
            {{ form.category_name.label }}
            {{ form.category_name(class="form-control", placeholder="Python") }}
            <script type="text/javascript">
              $('#category_name').selectize({
                  placeholder: 'Python',
                  maxItems: 1
              });
            </script>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-5 col-md-offset-3">
          <div class="form-group">
            {{ form.author_name.label }}
            {{ form.author_name(class="form-control", placeholder="Tim Peters") }}
            <script type="text/javascript">
              $('#author_name').selectize({
                  plugins: ['restore_on_backspace'],
                  create: true,
                  placeholder: 'Tim Peters',
                  maxItems: 1
              });
            </script>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-5 col-md-offset-3">
          <div class="form-group">
            {{ form.author_bio.label }}
            {{ form.author_bio(class="form-control", placeholder="http://stackoverflow.com/users/2705542/tim-peters") }}
          </div>
        </div>
      </div>
      <div class="col-xs-12" style="height:25px;"></div>
      <div class="row row-10-gutter">
        <div class="col-md-1 col-md-offset-6 col-10-gutter">
            <a class="btn btn-default btn-block" href="{{ request.referrer }}" role="button">Cancel</a>
        </div>
        <div class="col-md-1 col-10-gutter">
          <button type="submit" class="btn btn-success btn-block">Save</button>
        </div>
        </div>
      </div>
    </form>
  </div>
{% endblock %}
